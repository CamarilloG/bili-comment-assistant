# Bilibili 自动评论工具 GUI 开发规划

针对您的需求，我将为您开发一个基于 **Tkinter + ttkbootstrap** 的图形化配置界面（GUI）。该方案无需复杂的环境配置，启动快，且能满足您所有的交互需求。

## 🎯 项目目标
开发 `gui.py`，作为项目的新入口。用户通过图形界面配置参数，点击“开始任务”后，程序自动保存配置并调用底层的 `main.py` 执行逻辑。

## 🛠️ 功能模块规划

### 1. 界面布局 (Layout)
窗口标题：Bilibili 自动评论助手
布局风格：现代化扁平风格 (使用 `ttkbootstrap`)

*   **区域一：基础配置**
    *   **关键词** (Label + Entry): 输入搜索关键词（支持逗号分隔或单行输入）。
    *   **评论内容** (Label + Text): 多行文本框，输入固定的评论文案。
    *   **图片上传** (Label + Entry + Button):
        *   显示当前选择的图片路径（只读）。
        *   “选择图片”按钮：点击弹出系统文件选择框，选择后自动填入路径。

*   **区域二：运行参数**
    *   **操作间隔** (Label + Entry + Entry): 最小时间(s) - 最大时间(s)。
    *   **超时时间** (Label + Entry): 页面加载超时(ms)。
    *   **评论数量** (Label + Entry): 达到 N 条后停止。
    *   **显示浏览器** (Checkbutton): 勾选后开启“真实浏览器”模式 (headless=False)。

*   **区域三：账号管理**
    *   **状态检测** (Button): “检测登录状态”。点击后后台静默启动浏览器检查 Cookie。
        *   *状态显示*: 界面上通过颜色标签显示“已登录”或“未登录”。
    *   **扫码登录** (Button): “扫码登录”。点击后弹出浏览器窗口供用户扫码。

*   **区域四：控制台**
    *   **开始任务** (Button - Success): 保存配置并启动主程序。
    *   **停止任务** (Button - Danger): 强制终止运行中的任务。
    *   **日志输出** (ScrolledText): 实时显示运行日志（重定向标准输出）。

### 2. 逻辑实现
*   **配置读写**:
    *   启动时：自动读取 `config.yaml` 回显到界面。
    *   运行时：将界面数据写入 `config.yaml`。
*   **主程序调用**:
    *   使用多线程 (`threading`) 运行 `main.py` 的核心逻辑，避免 GUI 界面卡死。
    *   重定向 `logger` 输出到 GUI 的日志文本框。

## 📅 执行计划
1.  **环境准备**: 安装 `ttkbootstrap`。
2.  **创建 `gui.py`**:
    *   实现上述 UI 布局。
    *   绑定按钮事件（选择文件、保存配置）。
3.  **集成逻辑**:
    *   修改 `main.py` 或在 `gui.py` 中封装调用逻辑，使其支持从 GUI 启动和停止。
    *   实现“账号检测”功能：复用 `core/auth.py` 的逻辑。
4.  **调试与优化**: 确保配置保存正确，日志实时刷新。

准备就绪，确认后我将开始安装依赖并编写 `gui.py`。